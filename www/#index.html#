<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">
    <title>Ionic Seed App</title>

    <!-- ionic css -->
    <link href="../www/lib/css/ionic.css" rel="stylesheet">

    <!-- your app's css -->
    <link href="../www/css/app.css" rel="stylesheet">

    <!-- ionic/angularjs scripts -->
    <script src="../www/lib/js/ionic.bundle.js"></script>

    <!-- cordova script (this will be a 404 during development) -->
    <script src="../www/cordova.js"></script>

    <!-- your app's script -->
    <script src="../www/js/app.js"></script>
    <script src="../www/js/services.js"></script>
    <script src="../www/js/controllers.js"></script>
  </head>

  <!-- 
    'starter' is the name of this angular module (js/app.js)
  -->
  <body ng-app="starter" animation="slide-left-right-ios7">

					<ul >
						<li>
							<a onclick="testhttps('http://www.pineconetassel.com/testjson.php')"  >test http</a>
						</li>
						<li>
							<a  onclick="testhttps('https://www.pineconetassel.com/testjson.php')"   >test https</a>
						</li>
						<li>
							<a  onclick="testhttps('https://manage.pineconetassel.com/testjson.php')"   >test https subdomain</a>
						</li>
						<li>
							<a  onclick="testhttps('http://manage.pineconetassel.com/index.php/api/car/makes')"   >test http-api</a>
						</li>
						<li>
							<a  onclick="testhttps('https://manage.pineconetassel.com/index.php/api/car/makes')"   >test https-api</a>
						</li>

					</ul>

    <!-- 
      The nav bar that will be updated as we navigate between views
      Additional attributes set its look, ion-nav-bar animation and icons
      Icons provided by Ionicons: http://ionicons.com/ 
    -->
    <ion-nav-bar type="bar-positive" 
             animation="nav-title-slide-ios7" 
             back-button-type="button-icon button-clear" 
             back-button-icon="ion-ios7-arrow-back"></ion-nav-bar>

    <!-- 
      The views will be rendered in the <ion-nav-view> directive below
      Templates are in the /templates folder (but you could also
      have templates inline in this html file if you'd like).
    -->
    <ion-nav-view></ion-nav-view>

		<script type="text/javascript" charset="utf-8">
			function testhttps(url) {
				alert(url);
				cordovaHTTP.useBasicAuth("admin", "Demo@123", function() {
					console.log('success1!');
				}, function() {
					console.log('error :(');
				});

				//	alert("tp2");
				cordovaHTTP.setHeader("Header", "Value", function() {
					console.log('success2!');
					//	alert("tp2-1");

				}, function() {
					console.log('error :(');
					//	alert("tp2-2");

				});

				//	alert("tp3");
				cordovaHTTP.enableSSLPinning(true, function() {
					console.log('SSLPinning success!');
					alert('SSLPinning success!');

				}, function() {
					console.log(' error:(');
					alert('error!');

				});
				//alert("tp4");
				cordovaHTTP.acceptAllCerts(true, function() {
					console.log('success4!');
					//	alert('success4!');
				}, function() {
					console.log('error :(');
					alert('error :(');

				});

				cordovaHTTP.post(url, {
					name : "xinlu1",
					email : "test1@yahoo.com"
				}, {
					Authorization : "OAuth2: token"
				}, function(response) {
					// prints 200
					console.log("tp7" + response.status);
					alert(response.status);
					try {
						alert(response.data);
						response.data = JSON.parse(response.data);
						// prints test
						console.log("tp8" + response.data.name);
						alert(response.data.name + ':' + response.data.email);

					} catch(e) {
						console.error("JSON parsing error");
						alert("JSON parsing error");

					}
				}, function(response) {
					// prints 403
					console.log("tp9" + response.status);
					alert("tp9" + response.status);

					//prints Permission denied
					console.log("tp11 " + response.error);
					alert("tp11" + response.error);

				});

				cordovaHTTP.get(url, {
					name : "xinlu1",
					email : "test1@yahoo.com"
				}, {
					Authorization : "OAuth2: token"
				}, function(response) {
					// prints 200
					console.log("tp107" + response.status);
					alert(response.status);
					try {
						alert(response.data);
						response.data = JSON.parse(response.data);
						// prints test
						console.log("tp108" + response.data.name);
						alert(response.data.name + ':' + response.data.email);

					} catch(e) {
						console.error("JSON parsing error");
						alert("JSON parsing error");

					}
				}, function(response) {
					// prints 403
					console.log("tp109" + response.status);
					alert("tp109" + response.status);

					//prints Permission denied
					console.log("tp101 " + response.error);
					alert("tp101" + response.error);

				});

			}
		</script>

  </body>
</html>
